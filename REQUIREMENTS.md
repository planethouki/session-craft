# 要件定義

バンドサークルにおいて、定期セッションのセットリストとメンバー決めを行うアプリ。

## プラットフォーム

LIFFアプリとして、LINEで開けることを想定。

画面サイズはスマートフォンを基準に。
PCでも閲覧できるが、PC用のレスポンシブデザインは行わない。

アカウントはLINEログインに限定する。LINEログインは誰でもできるが、機能を使うためには一定の条件が必要。

## ユーザーフロー

登場人物は、管理者とパートリーダー、メンバー、それぞれ複数存在。

### セットリスト決め

1. 新規セッションを作成し、タイトルと日付を決める。
2. やりたい曲を募集する。やりたい曲があるメンバーは、その曲の詳細を提出する。１メンバー１つまで。提出したものは、全員が見れる。
3. 前項の締め切りが過ぎると、各メンバーは、他のメンバーのやりたい曲にエントリーする。これは管理者に提出し、管理者しか見れない。
4. 前項の締め切りが過ぎると、管理者はエントリー状況を考慮して、１０～１６曲を選ぶ。
5. 管理者は、前項で選ばれた曲と、エントリー状況を公開する。パートリーダーは、パートが被っていたり足りてない箇所をメンバーと話し合い調整する。結果を管理者に報告する。
6. 管理者は楽器の転換時間を考慮し、曲順を入れ替えて最終的なセットリストを作成する。

### メンバーアカウント登録

アプリ導入直後、もしくは新規メンバーが加入した際のフロー。

1. メンバーはLINEログインを行う。
2. 管理者またはパートリーダーが、メンバー管理画面より承認を行う。もしくは、初期導入後の大量ログインに対応するため、事前に決めた6桁の数字を入力すれば自動的に承認される。
3. メンバーは機能が使えるようになる。

## 想定画面

### 全員用

ホーム画面（最新セッションの詳細）
セッション一覧画面
セッション詳細画面
設定画面

承認待ち画面

個人情報削除画面（退会を兼ねる）

### 管理用

サークル管理画面
会員一覧画面
会員詳細画面
セッション一覧画面
セッション詳細画面

## 技術詳細

フレームワークはReact + Vite + React Routerとする
CSSフレームワークはMaterialUIとする

ホスティングはFirebaseとする
LIFFにてIDトークンを取得し、Firebase Functionsに送信する。FunctionsはIDトークンを検証し、そのユーザーIDを使ってFirebase Authenticationにカスタム認証する。

データはFirestoreに保存する。

### フォルダ構造

root ... Reactプロジェクト
functions ... Firebase Functionsのプロジェクト
